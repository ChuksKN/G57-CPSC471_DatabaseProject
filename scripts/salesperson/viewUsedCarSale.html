<!DOCTYPE html>
<html>
    <head>
        <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
        <meta content="utf-8" http-equiv="encoding">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    </head>
    <body>
        <table class="table table-bordered table-striped" id="used_car_sale_table">
            <tr>
                <th>EmployeeID</th>
                <th>CustomerID</th>
                <th>VIN</th>
                <th>SaleID</th>
                <th>Sale Date</th>
                <th>License Plate Number</th>
                <th>Registration Details</th>
                <th>Method of Payment</th>
                
            </tr>

            <tbody id="usedCarSaleBody">
                
            </tbody>
        </table>
    </body>
</html>

<script>
	$.getJSON('http://localhost/api_files/api/salesperson/viewUsedCarSaleEntries.php', function(data){
    $(data).each(function(i, usedcar){
        if(usedcar.hasOwnProperty('message')){
                alert(usedcar.message);
        } else{
            $('#usedCarSaleBody').append($("<tr>")
                .append($("<td>").append(usedcar.EmployeeID))
                .append($("<td>").append(usedcar.CustomerID))
                .append($("<td>").append(usedcar.VIN))
                .append($("<td>").append(usedcar.USaleID))
                .append($("<td>").append(usedcar.USaleDate))
                .append($("<td>").append(usedcar.LPlateNo))
                .append($("<td>").append(usedcar.PaymentMethod)));

        }
            
    });
    })
	.done(function(){
		alert("Completed");
	})
	.fail(function(e){
		alert("error: "+e);
	})
</script>